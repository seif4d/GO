<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡... ğŸš€</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #2c3e50;
            color: #ecf0f1;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            text-align: center;
        }
        .container {
            background: rgba(0, 0, 0, 0.2);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        h1 { font-size: 2rem; margin-bottom: 10px; }
        .spinner { font-size: 3rem; animation: spin 1s infinite linear; display: inline-block; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="container" id="content">
        <div class="spinner">â³</div>
        <h1>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ÙˆØ¬Ù‡ØªÙƒ...</h1>
    </div>

    <script>
        // âš ï¸ ØªØ£ÙƒØ¯ Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù… ÙŠØ·Ø§Ø¨Ù‚ Ø§Ø³Ù… Ø§Ù„Ù€ Repo Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø¨Ø§Ù„Ø¶Ø¨Ø·
        const repoName = "/GO"; 

        // Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø±Ø§Ø¨Ø·
        async function redirect() {
            // Ù…Ø³Ø§Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ (Ù…Ø«Ù„Ø§Ù‹ /GO/1)
            const path = window.location.pathname;
            
            // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ø³Ø§Ø± Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø®ØªØµØ±Ø© ÙÙ‚Ø·
            // ÙŠØ­ÙˆÙ„ /GO/1 Ø¥Ù„Ù‰ 1
            // ÙŠØ­ÙˆÙ„ /GO/google Ø¥Ù„Ù‰ google
            let shortCode = path.replace(repoName, "").replace(/^\//, "").replace(/\/$/, "");

            if (!shortCode) {
                // Ù„Ùˆ Ù…ÙÙŠØ´ ÙƒÙˆØ¯ØŒ Ø±ÙˆØ­ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                window.location.href = repoName + "/index.html";
                return;
            }

            try {
                // Ø¬Ù„Ø¨ Ù…Ù„Ù Ø§Ù„Ø±ÙˆØ§Ø¨Ø·
                const response = await fetch(repoName + '/links.json');
                const links = await response.json();

                if (links[shortCode]) {
                    document.getElementById('content').innerHTML = `
                        <div style="font-size:3rem">ğŸš€</div>
                        <h1>ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¨Ø·!</h1>
                        <p>Ø¬Ø§Ø±ÙŠ Ù†Ù‚Ù„Ùƒ Ø§Ù„Ø¢Ù†...</p>
                    `;
                    // Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø£ØµÙ„ÙŠ
                    window.location.replace(links[shortCode]);
                } else {
                    document.getElementById('content').innerHTML = `
                        <div style="font-size:3rem">ğŸš«</div>
                        <h1>Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</h1>
                        <p>ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>
                        <a href="${repoName}/" style="color:#3498db">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                    `;
                }
            } catch (error) {
                console.error(error);
                document.getElementById('content').innerHTML = "<h1>Ø­Ø¯Ø« Ø®Ø·Ø£ ØªÙ‚Ù†ÙŠ ğŸ˜¢</h1>";
            }
        }

        redirect();
    </script>
</body>
</html>
